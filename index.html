<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cursor Ultimate - Editor</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #1e1e1e;
            color: #fff;
            overflow: hidden;
        }
        .header {
            height: 48px;
            background: #2d2d30;
            border-bottom: 1px solid #3e3e42;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 16px;
        }
        .logo {
            display: flex;
            align-items: center;
            gap: 8px;
            font-weight: bold;
        }
        .tabs {
            display: flex;
            gap: 8px;
        }
        .tab {
            padding: 8px 16px;
            background: #3e3e42;
            border: none;
            color: #fff;
            border-radius: 4px;
            cursor: pointer;
            transition: background 0.2s;
        }
        .tab:hover {
            background: #4e4e52;
        }
        .tab.active {
            background: #0066cc;
        }
        .container {
            display: flex;
            height: calc(100vh - 72px);
        }
        .sidebar {
            width: 250px;
            background: #252526;
            border-right: 1px solid #3e3e42;
            overflow-y: auto;
        }
        .sidebar-header {
            height: 40px;
            background: #2d2d30;
            border-bottom: 1px solid #3e3e42;
            display: flex;
            align-items: center;
            padding: 0 12px;
            font-size: 11px;
            font-weight: 600;
            color: #ccc;
        }
        .file-tree {
            padding: 8px;
        }
        .file-item {
            padding: 6px 8px;
            cursor: pointer;
            border-radius: 4px;
            font-size: 13px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .file-item:hover {
            background: #2d2d30;
        }
        .file-item.selected {
            background: #37373d;
        }
        .main {
            flex: 1;
            display: flex;
            flex-direction: column;
        }
        .editor-tabs {
            height: 40px;
            background: #252526;
            border-bottom: 1px solid #3e3e42;
            display: flex;
            overflow-x: auto;
        }
        .editor-tab {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 0 16px;
            border-right: 1px solid #3e3e42;
            cursor: pointer;
            font-size: 13px;
            background: #2d2d30;
        }
        .editor-tab.active {
            background: #1e1e1e;
        }
        .editor {
            flex: 1;
            background: #1e1e1e;
            padding: 16px;
            overflow: auto;
        }
        textarea {
            width: 100%;
            height: 100%;
            background: transparent;
            border: none;
            color: #d4d4d4;
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 14px;
            line-height: 1.6;
            resize: none;
            outline: none;
        }
        .chat-panel {
            width: 350px;
            background: #252526;
            border-left: 1px solid #3e3e42;
            display: flex;
            flex-direction: column;
        }
        .chat-header {
            height: 40px;
            background: #2d2d30;
            border-bottom: 1px solid #3e3e42;
            display: flex;
            align-items: center;
            padding: 0 16px;
            font-size: 13px;
            font-weight: 600;
        }
        .chat-messages {
            flex: 1;
            padding: 16px;
            overflow-y: auto;
        }
        .message {
            margin-bottom: 16px;
            padding: 12px;
            border-radius: 8px;
            font-size: 13px;
            line-height: 1.5;
        }
        .message.user {
            background: rgba(0, 102, 204, 0.2);
            margin-left: 32px;
        }
        .message.assistant {
            background: #2d2d30;
            margin-right: 32px;
        }
        .message-role {
            font-size: 11px;
            color: #888;
            margin-bottom: 4px;
            font-weight: 600;
        }
        .chat-input {
            padding: 12px;
            border-top: 1px solid #3e3e42;
            display: flex;
            gap: 8px;
        }
        .chat-input input {
            flex: 1;
            background: #3e3e42;
            border: none;
            color: #fff;
            padding: 8px 12px;
            border-radius: 4px;
            font-size: 13px;
            outline: none;
        }
        .chat-input button {
            background: #0066cc;
            border: none;
            color: #fff;
            padding: 8px 16px;
            border-radius: 4px;
            cursor: pointer;
            font-weight: 600;
        }
        .chat-input button:hover {
            background: #0052a3;
        }
        .chat-input button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        .status-bar {
            height: 24px;
            background: #0066cc;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 16px;
            font-size: 12px;
        }
        .empty-state {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100%;
            color: #888;
        }
        .empty-state svg {
            width: 64px;
            height: 64px;
            margin-bottom: 16px;
            opacity: 0.3;
        }
        .admin-panel {
            padding: 24px;
            max-width: 800px;
            margin: 0 auto;
        }
        .admin-section {
            background: #252526;
            border: 1px solid #3e3e42;
            border-radius: 8px;
            padding: 24px;
            margin-bottom: 24px;
        }
        .admin-section h2 {
            margin-bottom: 16px;
            display: flex;
            align-items: center;
            gap: 12px;
        }
        .form-group {
            margin-bottom: 16px;
        }
        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-size: 13px;
            font-weight: 600;
            color: #ccc;
        }
        .form-group input {
            width: 100%;
            background: #3e3e42;
            border: none;
            color: #fff;
            padding: 12px;
            border-radius: 4px;
            font-size: 14px;
        }
        .form-group input:focus {
            outline: 2px solid #0066cc;
        }
        .btn-primary {
            background: #10b981;
            border: none;
            color: #fff;
            padding: 12px 24px;
            border-radius: 4px;
            cursor: pointer;
            font-weight: 600;
            font-size: 14px;
        }
        .btn-primary:hover {
            background: #059669;
        }
        .hidden {
            display: none;
        }
    </style>
</head>
<body>
    <div class="header">
        <div class="logo">
            <span>‚ú®</span>
            <span>Cursor Ultimate</span>
        </div>
        <div class="tabs">
            <button class="tab active" onclick="showView('editor')">üìù Editor</button>
            <button class="tab" onclick="showView('admin')">‚öôÔ∏è Admin</button>
        </div>
    </div>

    <div id="editorView" class="container">
        <div class="sidebar">
            <div class="sidebar-header">EXPLORADOR</div>
            <div class="file-tree">
                <div class="file-item selected" onclick="openFile('index.html')">
                    <span>üåê</span>
                    <span>index.html</span>
                </div>
                <div class="file-item" onclick="openFile('style.css')">
                    <span>üé®</span>
                    <span>style.css</span>
                </div>
                <div class="file-item" onclick="openFile('app.js')">
                    <span>‚ö°</span>
                    <span>app.js</span>
                </div>
                <div class="file-item" onclick="openFile('README.md')">
                    <span>üìÑ</span>
                    <span>README.md</span>
                </div>
            </div>
        </div>

        <div class="main">
            <div class="editor-tabs">
                <div class="editor-tab active">
                    <span>üåê</span>
                    <span>index.html</span>
                </div>
            </div>
            <div class="editor">
                <textarea id="codeEditor" spellcheck="false"><!DOCTYPE html>
<html>
<head>
  <title>Meu Site</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <h1>Ol√° Mundo! üöÄ</h1>
  <p>Bem-vindo ao Cursor Ultimate!</p>
  <script src="app.js"></script>
</body>
</html></textarea>
            </div>
        </div>

        <div class="chat-panel">
            <div class="chat-header">ü§ñ Claude AI</div>
            <div class="chat-messages" id="chatMessages">
                <div class="empty-state">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M12 3v3m0 12v3m9-9h-3M6 12H3m15.364 6.364l-2.121-2.121M8.757 8.757L6.636 6.636m12.728 0l-2.121 2.121M8.757 15.243l-2.121 2.121"/>
                    </svg>
                    <p>Claude AI pronto para ajudar!</p>
                </div>
            </div>
            <div class="chat-input">
                <input type="text" id="chatInput" placeholder="Pergunte ao Claude..." onkeypress="if(event.key==='Enter') sendMessage()">
                <button onclick="sendMessage()">‚Üí</button>
            </div>
        </div>
    </div>

    <div id="adminView" class="container hidden">
        <div class="admin-panel">
            <h1 style="margin-bottom: 32px;">‚öôÔ∏è Configura√ß√µes</h1>
            
            <div class="admin-section">
                <h2>üîë API Keys</h2>
                <div class="form-group">
                    <label>Claude API Key</label>
                    <input type="password" id="claudeKey" placeholder="sk-ant-...">
                    <small style="color: #888; font-size: 12px;">Obtenha em: console.anthropic.com</small>
                </div>
                <div class="form-group">
                    <label>OpenAI API Key</label>
                    <input type="password" id="openaiKey" placeholder="sk-...">
                </div>
                <button class="btn-primary" onclick="saveConfig()">üíæ Salvar Configura√ß√µes</button>
            </div>

            <div class="admin-section">
                <h2>üì° Conex√µes SSH</h2>
                <p style="color: #888; margin-bottom: 16px;">Gerencie suas conex√µes VPS</p>
                <div class="form-group">
                    <label>Nome da Conex√£o</label>
                    <input type="text" placeholder="Meu VPS">
                </div>
                <div class="form-group">
                    <label>Host</label>
                    <input type="text" placeholder="192.168.1.100">
                </div>
                <div class="form-group">
                    <label>Usu√°rio</label>
                    <input type="text" placeholder="root">
                </div>
                <button class="btn-primary">‚ûï Adicionar Conex√£o</button>
            </div>
        </div>
    </div>

    <div class="status-bar">
        <div>
            <span id="statusFile">üìÅ index.html</span>
            <span style="margin-left: 16px;">Linhas: <span id="lineCount">9</span></span>
        </div>
        <div>
            <span style="color: #10b981;">‚óè</span>
            <span style="margin-left: 4px;">Ready</span>
        </div>
    </div>

    <script>
        // State
        let config = {
            claudeKey: '',
            openaiKey: ''
        };

        // Load config
        const savedConfig = localStorage.getItem('cursorConfig');
        if (savedConfig) {
            config = JSON.parse(savedConfig);
            document.getElementById('claudeKey').value = config.claudeKey || '';
            document.getElementById('openaiKey').value = config.openaiKey || '';
        }

        // Save config
        function saveConfig() {
            config.claudeKey = document.getElementById('claudeKey').value;
            config.openaiKey = document.getElementById('openaiKey').value;
            localStorage.setItem('cursorConfig', JSON.stringify(config));
            alert('‚úÖ Configura√ß√µes salvas!');
        }

        // View switching
        function showView(view) {
            document.getElementById('editorView').classList.toggle('hidden', view !== 'editor');
            document.getElementById('adminView').classList.toggle('hidden', view !== 'admin');
            
            document.querySelectorAll('.tab').forEach(tab => tab.classList.remove('active'));
            event.target.classList.add('active');
        }

        // File operations
        function openFile(filename) {
            const files = {
                'index.html': `<!DOCTYPE html>
<html>
<head>
  <title>Meu Site</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <h1>Ol√° Mundo! üöÄ</h1>
  <p>Bem-vindo ao Cursor Ultimate!</p>
  <script src="app.js"></script>
</body>
</html>`,
                'style.css': `body {
  font-family: Arial, sans-serif;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
  text-align: center;
  padding: 50px;
}

h1 {
  font-size: 48px;
  margin-bottom: 20px;
}`,
                'app.js': `console.log("App carregado!");

function saudacao() {
  alert("Ol√° do Cursor Ultimate!");
}

// Seu c√≥digo JavaScript aqui
`,
                'README.md': `# Cursor Ultimate

Editor de c√≥digo completo com Claude AI integrado!

## Features
- ‚ú® Editor de c√≥digo
- ü§ñ Claude AI
- üìÅ Explorador de arquivos
- ‚öôÔ∏è Painel administrativo

Criado com ‚ù§Ô∏è
`
            };

            document.getElementById('codeEditor').value = files[filename] || '';
            document.getElementById('statusFile').textContent = 'üìÅ ' + filename;
            updateLineCount();
            
            document.querySelectorAll('.file-item').forEach(item => item.classList.remove('selected'));
            event.target.closest('.file-item').classList.add('selected');
        }

        // Update line count
        function updateLineCount() {
            const lines = document.getElementById('codeEditor').value.split('\n').length;
            document.getElementById('lineCount').textContent = lines;
        }

        document.getElementById('codeEditor').addEventListener('input', updateLineCount);

        // Chat functionality
        async function sendMessage() {
            const input = document.getElementById('chatInput');
            const message = input.value.trim();
            if (!message) return;

            const messagesDiv = document.getElementById('chatMessages');
            messagesDiv.innerHTML = '';

            // Add user message
            const userMsg = document.createElement('div');
            userMsg.className = 'message user';
            userMsg.innerHTML = `<div class="message-role">üë§ Voc√™</div><div>${message}</div>`;
            messagesDiv.appendChild(userMsg);

            input.value = '';

            // Check API key
            if (!config.claudeKey) {
                const errorMsg = document.createElement('div');
                errorMsg.className = 'message assistant';
                errorMsg.innerHTML = `<div class="message-role">ü§ñ Claude</div><div>‚ö†Ô∏è Configure sua API Key na aba Admin primeiro!</div>`;
                messagesDiv.appendChild(errorMsg);
                return;
            }

            // Add loading message
            const loadingMsg = document.createElement('div');
            loadingMsg.className = 'message assistant';
            loadingMsg.innerHTML = `<div class="message-role">ü§ñ Claude</div><div>Pensando...</div>`;
            messagesDiv.appendChild(loadingMsg);

            try {
                const response = await fetch('https://api.anthropic.com/v1/messages', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'x-api-key': config.claudeKey,
                        'anthropic-version': '2023-06-01'
                    },
                    body: JSON.stringify({
                        model: 'claude-sonnet-4-20250514',
                        max_tokens: 2000,
                        messages: [{
                            role: 'user',
                            content: message + '\n\nC√≥digo atual:\n```\n' + document.getElementById('codeEditor').value + '\n```'
                        }]
                    })
                });

                const data = await response.json();
                
                if (data.error) {
                    throw new Error(data.error.message);
                }

                loadingMsg.innerHTML = `<div class="message-role">ü§ñ Claude</div><div>${data.content[0].text}</div>`;
            } catch (error) {
                loadingMsg.innerHTML = `<div class="message-role">ü§ñ Claude</div><div>‚ùå Erro: ${error.message}</div>`;
            }

            messagesDiv.scrollTop = messagesDiv.scrollHeight;
        }
    </script>
</body>
</html>
